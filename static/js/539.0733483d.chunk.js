"use strict";(self.webpackChunknutrition_ai=self.webpackChunknutrition_ai||[]).push([[539],{95339:function(e,r,n){n(72791);r.Z=n.p+"static/media/forget-password.f970dd1a3fecfa3e5fa23f01b1ad4f8e.svg"},76539:function(e,r,n){n.r(r),n.d(r,{default:function(){return R}});var s=n(72791),o=n(68870),t=n(89164),i=n(61889),a=n(42686),d=n(95339),c=n(1413),l=n(74165),m=n(15861),u=n(29439),p=n(3746),h=n(20165),x=n(68096),f=n(47071),w=n(13400),Z=n(63466),g=n(30829),j=n(77196),b=n(13967),v=n(20890),_=n(92506),P=n(763),y=n(74673),k=n(59434),C=n(57689),A=n(75985),S=n(81724),z=n(89208),F=n(90392),I=n(4240),W=n(80066),q=n(95414),B=n(80184),D=function(){var e=(0,s.useState)(!1),r=(0,u.Z)(e,2),n=r[0],d=r[1],D=(0,s.useState)(!1),R=(0,u.Z)(D,2),T=R[0],Y=R[1],E=(0,y.Z)(),M=(0,u.Z)(E,2)[1],O=(0,b.Z)(),V=(0,C.s0)(),H=(0,C.TH)().state,L=(0,k.I0)(),N=(0,a.xX)().executeRecaptcha,J=(0,k.v9)(I.Yu).data,K=(0,k.v9)((function(e){return e.forgetPassword.loading})),Q=S.Ry().shape({password:S.Z_().required((0,q.Z)("common_error_password_required")),confirmPassword:S.Z_().oneOf([S.iH("password"),null],(0,q.Z)("common_passwords_must_match")).required((0,q.Z)("common_enter_confirm_password"))}),U=function(){d(!n)},X=function(){Y(!T)},G=function(e){e.preventDefault()};(0,s.useEffect)((function(){(null===(0,P.get)(H,"isPasswordVerified",null)||!0===(0,P.isEmpty)((0,P.get)(J,"email",""))&&!0===(0,P.isEmpty)((0,P.get)(J,"mobile","")))&&V("/recover/account")}),[V,H,J]);var $=function(){var e=(0,m.Z)((0,l.Z)().mark((function e(r){var n,s,o;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N){e.next=3;break}return A.Am.error("You are not authorized"),e.abrupt("return");case 3:return e.next=5,N("yourAction");case 5:return n=e.sent,s={otp:J.otpCode,code:(0,P.get)(J,"code",""),email:(0,P.get)(J,"email",""),mobile:(0,P.get)(J,"mobile",""),googleRecaptchaToken:n,password:r.password},e.next=9,L((0,I.oT)(s)).unwrap().then((function(e){if(!0===e.status&&""!==(0,P.get)(e.data,"token","")){var r={email:(0,P.get)(J,"email"),mobile:(0,P.get)(J,"mobile"),token:(0,P.get)(e.data,"token")};M("user_data",r,{path:"/",expires:W.aV}),A.Am.success(e.message),L((0,F.nf)(!0))}else A.Am.error(e.message)})).catch((function(e){console.log("error OTP verify",e)}));case 9:return o=e.sent,e.abrupt("return",o);case 11:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return(0,B.jsx)(B.Fragment,{children:(0,B.jsx)(o.Z,{component:"div",sx:{width:"100%"},children:(0,B.jsx)(t.Z,{maxWidth:"xl",children:(0,B.jsx)(_.J9,{initialValues:{password:"",confirmPassword:""},validationSchema:Q,onSubmit:function(e){$(e)},children:function(e){return(0,B.jsx)("form",{onSubmit:e.handleSubmit,children:(0,B.jsx)(i.ZP,{container:!0,children:(0,B.jsxs)(i.ZP,{item:!0,xs:12,sm:12,md:10,lg:8,sx:{mx:{md:"0",xs:"auto"}},children:[(0,B.jsx)(v.Z,{variant:"h2",align:"center",mb:3,children:(0,q.Z)("common_forgot_password")}),(0,B.jsxs)(i.ZP,{container:!0,spacing:2,justifyContent:"center",children:[(0,B.jsx)(i.ZP,{item:!0,xs:12,children:(0,B.jsxs)(x.Z,{variant:"outlined",fullWidth:!0,sx:(0,c.Z)({},O.typography.customInput),children:[(0,B.jsx)(g.Z,{error:e.errors.password&&e.touched.password,htmlFor:"outlined-adornment-password",children:(0,q.Z)("common_password")}),(0,B.jsx)(j.Z,{id:"outlined-adornment-password",label:(0,q.Z)("common_password"),type:n?"text":"password",name:"password",value:e.values.password,onChange:e.handleChange,onBlur:e.handleBlur,size:"small",endAdornment:(0,B.jsx)(Z.Z,{position:"end",children:(0,B.jsx)(w.Z,{"aria-label":"toggle password visibility",onClick:U,onMouseDown:G,edge:"end",children:n?(0,B.jsx)(h.Z,{}):(0,B.jsx)(p.Z,{})})}),error:!(!e.errors.password||!e.touched.password)}),e.errors.password&&e.touched.password&&(0,B.jsx)(f.Z,{error:!0,id:"outlined-adornment-password",children:e.errors.password})]})}),(0,B.jsx)(i.ZP,{item:!0,xs:12,children:(0,B.jsxs)(x.Z,{variant:"outlined",fullWidth:!0,sx:(0,c.Z)({},O.typography.customInput),children:[(0,B.jsx)(g.Z,{error:e.errors.confirmPassword&&e.touched.confirmPassword,htmlFor:"outlined-adornment-confirm-password",children:(0,q.Z)("common_confirm_password")}),(0,B.jsx)(j.Z,{id:"outlined-adornment-confirm-password",label:(0,q.Z)("common_confirm_password"),type:T?"text":"password",name:"confirmPassword",value:e.values.confirmPassword,onChange:e.handleChange,onBlur:e.handleBlur,size:"small",endAdornment:(0,B.jsx)(Z.Z,{position:"end",children:(0,B.jsx)(w.Z,{"aria-label":"toggle password visibility",onClick:X,onMouseDown:G,edge:"end",children:T?(0,B.jsx)(h.Z,{}):(0,B.jsx)(p.Z,{})})}),error:!(!e.errors.confirmPassword||!e.touched.confirmPassword)}),e.errors.confirmPassword&&e.touched.confirmPassword&&(0,B.jsx)(f.Z,{error:!0,id:"outlined-adornment-confirm-password",children:e.errors.confirmPassword})]})}),(0,B.jsx)(i.ZP,{item:!0,xs:12,children:(0,B.jsx)(z.Z,{variant:"contained",fullWidth:!0,type:"submit",loading:e.isSubmitting&&K,disabled:e.isSubmitting&&K,children:(0,q.Z)("common_change_password")})})]})]})})})}})})})})},R=function(){return(0,B.jsx)(B.Fragment,{children:(0,B.jsx)(o.Z,{component:"section",sx:{py:{sm:6.4,xs:4}},className:"d-flex align-items-center justify-content-center w-100",children:(0,B.jsx)(t.Z,{maxWidth:"xl",children:(0,B.jsxs)(i.ZP,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:[(0,B.jsx)(i.ZP,{item:!0,xs:12,sm:8,md:7,xl:6,children:(0,B.jsx)(a.pm,{reCaptchaKey:"6LfakRIiAAAAAOzDSqY5YxucM0LUaQzzp7_e5FSe",children:(0,B.jsx)(D,{})})}),(0,B.jsx)(i.ZP,{item:!0,xs:12,sm:8,md:5,lg:5,xl:4,children:(0,B.jsx)(o.Z,{component:"img",src:d.Z,className:"img-fluid"})})]})})})})}}}]);
//# sourceMappingURL=539.0733483d.chunk.js.map