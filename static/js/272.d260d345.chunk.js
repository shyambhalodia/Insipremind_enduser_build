"use strict";(self.webpackChunknutrition_ai=self.webpackChunknutrition_ai||[]).push([[272],{21272:function(e,n,t){t.r(n),t.d(n,{default:function(){return S}});var r=t(89164),o=t(61889),i=t(68870),s=t(74165),c=t(15861),a=t(29439),u=t(72791),l=t(36151),d=t(47071),m=t(20890),f=t(763),p=t(74673),x=t(42686),h=t(70004),g=t(59434),Z=t(57689),v=t(75985),j=t(90392),y=t(17811),b=t(62249),_=t(87812),w=t(80066),k=t(95414),C=t(80184),A=function(){var e=(0,u.useState)(""),n=(0,a.Z)(e,2),t=n[0],r=n[1],A=(0,u.useState)(!1),P=(0,a.Z)(A,2),S=P[0],E=P[1],I=(0,Z.TH)().state,z=(0,Z.s0)(),D=(0,p.Z)(),F=(0,a.Z)(D,2)[1],L=(0,x.xX)().executeRecaptcha,O=(0,g.I0)(),R=(0,g.v9)(b.is),M=(0,g.v9)(b.rO);(0,u.useEffect)((function(){null===(0,f.get)(I,"isOtpVerified",null)||!0===(0,f.isEmpty)((0,f.get)(R,"userId",""))&&z("/signup")}));var N=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(){var n,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(6!==t.length){e.next=9;break}return E(!1),n={userId:R.userId,otp:t},e.next=5,O((0,y.Q8)(n)).unwrap().then((function(e){if(!0===e.status&&""!==(0,f.get)(e.data,"token","")){var n={email:(0,f.get)(R,"email"),mobile:(0,f.get)(R,"mobile"),token:(0,f.get)(e.data,"token")};F("user_data",n,{path:"/",expires:w.aV}),O((0,j.uB)(e.data.token)),O((0,j.nf)(!0)),z("/health-info"),r("")}else v.Am.error(e.message)})).catch((function(e){console.log("error OTP verify",e)}));case 5:return o=e.sent,e.abrupt("return",o);case 9:E(!0);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(){var n,t,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L){e.next=3;break}return v.Am.error("You are not Authorized"),e.abrupt("return");case 3:return e.next=5,L("yourAction");case 5:return n=e.sent,t={code:(0,f.get)(R,"code",""),mobile:(0,f.get)(R,"mobile",""),email:(0,f.get)(R,"email",""),googleRecaptchaToken:n},e.next=9,O((0,y.WX)(t)).unwrap().then((function(e){e.status?v.Am.success(e.message):v.Am.error(e.message)})).catch((function(e){console.log("OTP resend error========>",e)}));case 9:return r=e.sent,e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(i.Z,{component:"div",className:"d-flex align-items-center justify-content-center h-100",children:(0,C.jsx)(o.ZP,{container:!0,children:(0,C.jsxs)(o.ZP,{item:!0,sm:9,md:10,lg:8,sx:{mx:{md:"0",xs:"auto"}},children:[(0,C.jsx)(m.Z,{variant:"h4",align:"center",mb:2,children:(0,k.Z)("common_otp_verification")}),(0,C.jsxs)(m.Z,{variant:"body1",align:"center",mb:2,children:[(0,k.Z)("common_code_sent_to"),(0,C.jsx)(m.Z,{variant:"body1",color:"primary",component:"span",ml:1,children:M?(0,f.get)(R,"mobile",""):(0,f.get)(R,"email","")})]}),(0,C.jsxs)(o.ZP,{container:!0,spacing:2,justifyContent:"center",children:[(0,C.jsxs)(o.ZP,{item:!0,xs:12,children:[(0,C.jsx)(h.Z,{value:t,onChange:function(e){r(e)},numInputs:6,separator:(0,C.jsx)("span",{style:{width:"8px"}}),isInputNum:!0,shouldAutoFocus:!0,className:_.Z.otp_inputs,containerStyle:{alignItems:"center",justifyContent:"center"},hasErrored:S,errorStyle:{color:"#b71c1c",borderColor:"#b71c1c"},inputStyle:{border:"1px solid #CFD3DB",borderRadius:"8px",width:"40px",height:"40px",fontSize:"16px",color:"#777E89",fontWeight:"400",caretColor:"#777E89",margin:"0 auto"},focusStyle:{border:"1px solid #CFD3DB",outline:"none"}}),S&&(0,C.jsx)(d.Z,{error:!0,sx:{textAlign:"center",mt:1},children:(0,k.Z)("common_error_all_fields_are_required")}),(0,C.jsxs)(m.Z,{variant:"body1",align:"center",mt:2,children:[(0,k.Z)("common_didn't_receive_code")," ?",(0,C.jsx)(m.Z,{variant:"body1",color:"primary",component:"span",sx:{cursor:"pointer"},ml:1,onClick:T,children:(0,k.Z)("common_request_again")})]})]}),(0,C.jsx)(o.ZP,{item:!0,xs:12,children:(0,C.jsx)(l.Z,{variant:"contained",fullWidth:!0,type:"submit",onClick:N,children:(0,k.Z)("common_verify_now")})})]})]})})})})},P=t(2508),S=function(){return(0,C.jsx)(i.Z,{component:"section",sx:{py:{sm:6.4,xs:4}},className:"d-flex align-items-center justify-content-center w-100",children:(0,C.jsx)(r.Z,{maxWidth:"xl",children:(0,C.jsxs)(o.ZP,{container:!0,spacing:2,sx:{justifyContent:{md:"space-between",xs:"center"}},column:12,children:[(0,C.jsx)(o.ZP,{item:!0,lg:6,md:6,children:(0,C.jsx)(x.pm,{reCaptchaKey:"6LfakRIiAAAAAOzDSqY5YxucM0LUaQzzp7_e5FSe",children:(0,C.jsx)(A,{})})}),(0,C.jsx)(o.ZP,{item:!0,lg:5,md:6,children:(0,C.jsx)(P.Z,{})})]})})})}},74673:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(72791),o=t(73135);function i(e){var n=(0,r.useContext)(o.ZP);if(!n)throw new Error("Missing <CookiesProvider>");var t=n.getAll(),i=(0,r.useState)(t),s=i[0],c=i[1],a=(0,r.useRef)(s);return"undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement&&(0,r.useLayoutEffect)((function(){function t(){var t=n.getAll();(function(e,n,t){if(!e)return!0;for(var r=0,o=e;r<o.length;r++){var i=o[r];if(n[i]!==t[i])return!0}return!1})(e||null,t,a.current)&&c(t),a.current=t}return n.addChangeListener(t),function(){n.removeChangeListener(t)}}),[n]),[s,(0,r.useMemo)((function(){return n.set.bind(n)}),[n]),(0,r.useMemo)((function(){return n.remove.bind(n)}),[n])]}}}]);
//# sourceMappingURL=272.d260d345.chunk.js.map